tm.game.setup({title:"Monyo Jump",assets:{monyo:"images/monyo.png",ground:"images/ground.png",background:"images/background.png"}});var FLOOR_HEIGHT=SCREEN_GRID_Y.span(3);tm.define("GameScene",{superClass:"Scene",init:function(){this.superInit(),this.bg=Sprite("background",SCREEN_WIDTH,SCREEN_HEIGHT-FLOOR_HEIGHT).addChildTo(this),this.bg.originX=0,this.bg.originY=0,this.floor=Floor().addChildTo(this),this.floor.y=SCREEN_HEIGHT,this.player=Monyo().addChildTo(this),this.player.setPosition(140,300)},update:function(){this.player.bottom>this.floor.y-FLOOR_HEIGHT&&this.app.popScene()},onpointingstart:function(){this.player.jump()}}),tm.define("Monyo",{superClass:"Sprite",init:function(){this.superInit("monyo",80,80),this.vy=0},update:function(){this.vy+=.25,this.y+=this.vy;var i=Math.min(this.vy,0);this.rotation-=i},jump:function(){this.vy=-16}}),tm.define("Floor",{superClass:"Shape",init:function(){this.superInit(),this.width=SCREEN_WIDTH+64,this.height=FLOOR_HEIGHT,this.originX=0,this.originY=1;var i=this.canvas,t=tm.asset.Manager.get("ground");20..times(function(n){i.drawTexture(t,37*n,0,37,FLOOR_HEIGHT)}),this.x=0},update:function(){this.x-=4,this.x<-37&&(this.x=0)}}),tm.main(function(){document.body.style.background="#222"}),tm.main();